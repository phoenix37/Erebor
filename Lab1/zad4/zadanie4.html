<!DOCTYPE HTML> 
<html>
    <head>
        <script src="animation.js">
        </script>
       
        <script>

        window.addEventListener('load', function () {
            var img = new Image;
            var img2 = new Image;
            ctx = document.getElementById('myCanvas').getContext('2d');
            var x = 0;
            var y = 0;
            var dx = 4;
            var dy = 2;
            var WIDTH = 600;
            var HEIGHT = 400; 

            // przypisuje do obiektu obraz ryby
            img.src = "mojaRyba.png";
            img2.src = "mojaRyba2.png"; //odwrocona ryba
            img.addEventListener('load', function () 
            {

                var interval = setInterval(function() 
                {
                    return function () 
                            {
                                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); // kasowanie pikseli w obrebie danego canvasa 

                                if(dx<0)
                                {
                                    ctx.drawImage(img2, x, y,img2.width * 0.5, img.height * 0.5); // rysujemy odwrocona rybe
                                }else
                                {
                                    ctx.drawImage(img, x, y, img.width * 0.5, img.height * 0.5); // rysujemy rybe
                                }
                                
                                
                                if (x + dx > WIDTH*1.3 || x + dx < -150) //jesli poza plotnem
                                {
                                    dx = -dx;                               
                                }
                                

                              if (y + dy > HEIGHT*1.3 || y + dy < -150) //jesli poza plotnem
                                dy = -dy;

                              x += dx;
                              y += dy;
                            };
                }(), 1000/40);
            }, false);
        }, false);

        </script>
    </head>
    <body>
        <canvas id="myCanvas" width="600" height="400" style="border:1px solid black;">
        </canvas>
    </body>
</html>
